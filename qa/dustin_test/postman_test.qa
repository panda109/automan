start

## set
set											api_verification		cmd_path			#environment_path#=ini\postman_integration


#expected_result_get
$ioe_login_result$=get						api_verification	expected_result			#expected_result#=IoE_login.json


## execute cmd
exec										api_verification		cmd					#command#=newman run IoE.postman_collection.json -e IoE.postman_environment.json -r csv --reporter-csv-export		

## get file location and get the folder list
$csv_file_name$=get							api_verification		file_list			#folder_path#=C:\Users\automan\git\automan_local_stage2\ini\postman_integration\newman

sleep	1	

##read csv
$get_token_status_code_response$=get 		api_verification 		read_csv			#csv_filename#=$csv_file_name$,#testcase_name#=Login

$get_token_status_code$=get					api_verification		status_code			#api_response#=$get_token_status_code_response$

$get_token_response_body$=get				api_verification		response_body		#api_response#=$get_token_status_code_response$

verify										api_verification		status_code			#api_response#=$get_token_status_code$,#expected_status_code#=200

verify										api_verification		dict_keys			#expected_result#=$ioe_login_result$,#actual_result#=$get_token_response_body$


## API: get team profile verify

$team_profile_result$=get					api_verification		expected_result		#expected_result#=get_team_profile.json

$team_profile_response$=get					api_verification		read_csv			#csv_filename#=$csv_file_name$,#testcase_name#=Get_team_profile

$team_profile_status_code$=get				api_verification		status_code			#api_response#=$team_profile_response$

$team_profile_response_body$=get			api_verification		response_body		#api_response#=$team_profile_response$

verify										api_verification		status_code			#api_response#=$team_profile_status_code$,#expected_status_code#=200

verify										api_verification		dict_keys			#expected_result#=$team_profile_result$,#actual_result#=$team_profile_response_body$

verify										api_verification		dict_content		#expected_result#=$team_profile_result$,#actual_result#=$team_profile_response_body$


set											api_verification		cmd_path			#environment_path#=C:\Users\automan\git\automan_local_stage2

end